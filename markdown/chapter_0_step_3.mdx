# Chapter 4: Choosing Your Quest

Ok, so you did learn how to invoke advance requests through transactions in the blockchain and how to check the machine state through inspect calls. Let's go back to the advance requests and try to change the state of the machine so it will reflect some change in the inspect.


## Changing the state

Your task in this chapter is to extend the functionality of the `handle_advance` function. Unlike the `handle_inspect` function, which is passive, `handle_advance` can change the state of your dApp.

Complete the function `acceptMission` that is called within `handle_advance` that handles the selection and removal of a quest from the available list based on user input.

This is the first time you will be altering some value held in the machines memory. By removing the mission from the mission list 

## Routing

Sometimes you need your dApp to do more than one thing, handle more than one kind of transaction. For this you can and should implement routing, The simplest way to do so is to check for an element in the input. In this example it's called **route**. 

See how it is being used inside the handle advance after the decoding of the input to decide which function will be called.

## User Instructions

- **Code Editing Guidelines**: Focus your modifications on the `acceptMission` function. Ensure any changes preserve the rest of the application's functionality.
- **Task**: Read `handle_advance` that handles the acceptance of a quest routes it to the correct function.
- **Task**: Ensure this function can update the mission list by removing the chosen mission.

## Required Modification

Modify the `acceptMission` function that processes the quest acceptance. Hereâ€™s how you can structure this:

```javascript
function acceptMission(args, missions) {
    // Logic to remove the selected mission

    return str2hex(jsonToStr({ 
        missionSelected: args.mission
    }));
}
```

## Input
The input to select a mission will be an object specifying the route and arguments for the mission to be accepted:

```json
{
  "route": "accept_mission",
  "args": {
    "mission": "Kill the dragon"
  }
}
```

By completing this chapter, you will advance your understanding of state changes in Cartesi dApps. You'll learn how user actions can dynamically alter the state, preparing you for building more interactive and responsive dApps.
