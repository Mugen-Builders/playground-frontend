# Chapter 10: Trading Treasure for Gold

After successfully looting the dragon's hoard, your hero is ready to convert these rare treasures into gold. This chapter will guide you through the process of selling the acquired assets from the dragon and managing the financial transactions within your decentralized application.

## Chapter Overview: From Treasure to Wealth

In this chapter, you will implement functionality to allow your hero to trade the looted dragon assets for gold. By simulating a marketplace within the dApp.

## Objective

The main objective of this chapter is to develop the function `sellAssets` which will handle the conversion of looted items into gold, updating the hero's total gold balance. This involves creating a simple sale logic within your dApp where items can be assigned a value and sold.

## User Instructions

- **Code Editing Guidelines**: Focus on the `sellAssets` function that will manage the sale of the dragon's assets.
- **Task**: See how the `sellAssets` function is integrated into the `handle_advance` function to process asset sales when invoked.
- **Task**: Ensure that the transaction updates the hero's gold balance accurately and records the state change.

## Required Modification

Develop the `sellAssets` function to calculate the total gold received from selling dragon assets and update the playerâ€™s gold balance. Update the `sellAssets` function to include this new selling functionality.

### The `sellAssets` Function

```javascript
function sellAssets(sender, inventory, wallet) {
  if (!wallet[sender]) {
    wallet[sender] = { gold: 0 }
  }

  inventory[sender].forEach(item => {
    wallet[sender].gold += 50
  })

  // Clear the inventory after selling
  inventory[sender] = []
  
  console.log(`${sender} earned ${wallet[sender].gold} gold from selling assets.`)
  return {
    player: sender,
    wallet: wallet[sender]
  };
}
```

## Input

Provide input to trigger the `sellAssets` function:

```json
{
  "route": "sellAssets",
  "args": {}
}
```

## Educational Insights

This chapter illustrates the dynamic nature of asset management and financial transactions in decentralized applications. By converting treasures into gold, developers learn about handling economic activities in a blockchain environment, which includes secure transactions and real-time updates of financial states. This function reinforces the concept that managing financial transactions in a dApp is as straightforward as manipulating variables in traditional programming but with enhanced security and reliability.

In this chapter, you will not only turn your hero's treasures into tangible wealth but also gain practical experience in the economic aspects of dApp development, preparing you for more advanced features and functionalities in future Cartesia adventures.