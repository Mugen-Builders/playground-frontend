# Step 10: Trading Treasure for Gold

Let’s talk about how to handle fungible assets, just like tokens!

Think of it like this: After successfully looting the dragon's hoard, your adventurer is ready to convert these rare treasures into gold. So, let’s implement a function that would act like a vendor, accepting the assets for sale.

Given all that you’ve learned so far, this exercise should be straightforward. Just like you created an inventory collection, you can create a wallet object that holds different types of assets by user.

The main objective of this chapter is to develop the `sellAssets` function, which will handle the conversion of looted items into gold, updating the hero's total gold balance. This involves creating a simple sale logic within your dApp where items can be assigned a value and sold.

## User Instructions

- **Code Editing Guidelines**: Focus on the `sellAssets` function, which will manage the sale of the dragon's assets.
- **Task**: Understand how the `sellAssets` function is integrated into the `handle_advance` function to process asset sales when invoked.
- **Task**: Ensure that the transaction accurately updates the hero's gold balance and records the state change.

## Required Modification

Develop the `sellAssets` function to calculate the total gold received from selling dragon assets and update the player’s gold balance. Update the `sellAssets` function to include this new selling functionality.

### The `sellAssets` Function

- Initialize the wallet for the user if it hasn’t been done already:
```javascript
if (!wallet[sender]) {
  wallet[sender] = { gold: 0 };
}
```

- Add gold for each item sold:
```javascript
inventory[sender].forEach(item => {
  wallet[sender].gold += 50;
});
```

- Clear the inventory:
```javascript
inventory[sender] = [];
```

- Return the adventurer's wallet balance:
```javascript
return {
  player: sender,
  wallet: wallet[sender]
};
```

## Input

This will be the input to trigger the `sellAssets` function:

```json
{
  "route": "sell_assets",
  "args": {}
}
```

With all of these steps, you now understand the basic concepts of asset management with native assets inside the dApp. Of course, this can be specialized, extended to multiple types of tokens, and there can be different interactions with these assets. It’s all about your application logic and how you implement it!